{"ast":null,"code":"import axios from 'axios';\nexport const axiosClient = axios.create({\n  baseURL: \"http://localhost:4001\",\n  withCredentials: true\n});\naxiosClient.interceptors.request.use(request => {\n  const accessToken = localStorage.getItem(\"KEY_ACCESS_TOKEN\");\n  request.headers['Authorization '] = `Bearer ${accessToken}`;\n  return request;\n});\naxiosClient.interceptors.response.use(async response => {\n  const data = response.data;\n  if (data.status === \"ok\") {\n    return response;\n  }\n  const originalRequest = response.config;\n  const statusCode = data.statusCode;\n  const error = data.message;\n  window.location.replace('/login', '_self');\n  return Promise.reject(error);\n});","map":{"version":3,"names":["axios","axiosClient","create","baseURL","withCredentials","interceptors","request","use","accessToken","localStorage","getItem","headers","response","data","status","originalRequest","config","statusCode","error","message","window","location","replace","Promise","reject"],"sources":["C:/Users/priya/Desktop/React-chatvision/chatvision-web/src/axiosclient.js"],"sourcesContent":["import axios from 'axios'\r\n\r\nexport const axiosClient=axios.create({\r\n    baseURL:\"http://localhost:4001\",\r\n    withCredentials:true\r\n});\r\n\r\naxiosClient.interceptors.request.use(\r\n    (request)=>{\r\n        const accessToken=localStorage.getItem(\"KEY_ACCESS_TOKEN\");\r\n        request.headers['Authorization ']=`Bearer ${accessToken}`\r\n        return request;\r\n    }\r\n)\r\n\r\naxiosClient.interceptors.response.use(\r\n    async(response)=>{\r\n        const data=response.data;\r\n        if(data.status===\"ok\"){\r\n            return response;\r\n        }\r\n        const originalRequest=response.config;\r\n        const statusCode=data.statusCode;\r\n        const error=data.message;\r\n        window.location.replace('/login','_self');\r\n        return Promise.reject(error);\r\n    }\r\n)"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,WAAW,GAACD,KAAK,CAACE,MAAM,CAAC;EAClCC,OAAO,EAAC,uBAAuB;EAC/BC,eAAe,EAAC;AACpB,CAAC,CAAC;AAEFH,WAAW,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAC/BD,OAAO,IAAG;EACP,MAAME,WAAW,GAACC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;EAC1DJ,OAAO,CAACK,OAAO,CAAC,gBAAgB,CAAC,GAAE,UAASH,WAAY,EAAC;EACzD,OAAOF,OAAO;AAClB,CACJ,CAAC;AAEDL,WAAW,CAACI,YAAY,CAACO,QAAQ,CAACL,GAAG,CACjC,MAAMK,QAAQ,IAAG;EACb,MAAMC,IAAI,GAACD,QAAQ,CAACC,IAAI;EACxB,IAAGA,IAAI,CAACC,MAAM,KAAG,IAAI,EAAC;IAClB,OAAOF,QAAQ;EACnB;EACA,MAAMG,eAAe,GAACH,QAAQ,CAACI,MAAM;EACrC,MAAMC,UAAU,GAACJ,IAAI,CAACI,UAAU;EAChC,MAAMC,KAAK,GAACL,IAAI,CAACM,OAAO;EACxBC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,QAAQ,EAAC,OAAO,CAAC;EACzC,OAAOC,OAAO,CAACC,MAAM,CAACN,KAAK,CAAC;AAChC,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}